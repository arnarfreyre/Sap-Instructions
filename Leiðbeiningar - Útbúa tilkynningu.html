<!DOCTYPE html>
<html lang="is">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAP Kerfi - Hvernig √° a√∞ √∫tb√∫a tilkynningu</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="sap-main-container">
        <div class="sap-header">
            <h1>SAP Kerfi - Lei√∞beiningar: A√∞ √∫tb√∫a tilkynningu</h1>
            <div class="sap-progress-indicator">
                <div class="sap-progress-step" id="prog0">‚úì</div>
                <div class="sap-progress-step" id="prog1">1</div>
                <div class="sap-progress-step" id="prog2">2</div>
                <div class="sap-progress-step" id="prog3">3</div>
                <div class="sap-progress-step" id="prog4">4</div>
                <div class="sap-progress-step" id="prog5">5</div>
                <div class="sap-progress-step" id="prog6">6</div>
            </div>
        </div>

        <div class="sap-content-area">
            <div class="sap-sidebar">
                <h3 style="margin-bottom: 20px;">Yfirlit</h3>
                <div class="sap-instruction-list">
                    <strong>Tilgangur:</strong>
                    <p style="margin: 10px 0; font-size: 13px;">√ötb√∫a tilkynningu √≠ SAP kerfinu.</p>

                    <div class="sap-warning-box" style="margin-top: 20px;">
                        <strong>‚ö†Ô∏è Athugi√∞:</strong><br>
                        Ekki er h√¶gt a√∞ ey√∞a bei√∞num √æegar fr√°tekt hefur veri√∞ <strong>keypt √∫t √° verkbei√∞ni</strong>.
                    </div>
                </div>

                <h4 style="margin-top: 30px; margin-bottom: 15px;">Skref:</h4>
                <ol style="font-size: 13px; line-height: 1.8;">
                    <li>Opna IH01 gluggann</li>
                    <li>Sl√° inn verksmi√∞jun√∫mer</li>
                    <li>Finna lagerinn √≠ tr√©</li>
                    <li>Opna stofna tilkynningu gluggan</li>
                    <li>Opna object information skj√°inn</li>
                    <li>Skrifa l√Ωsingu √° tilkynningu og vista</li>
                </ol>
            </div>

            <div class="sap-main-content">
                <!-- Step 0: Intro -->
                <div class="sap-step-container active" id="step0">
                    <div class="sap-step-info">
                        <h2>Velkomin √≠ lei√∞beiningarnar</h2>
                        <p>√ûessar lei√∞beiningar s√Ωna √æ√©r skref fyrir skref hvernig √° a√∞ √∫tb√∫a tilkynningu √≠ SAP kerfinu.</p>
                    </div>

                    <div style="text-align: center; padding: 40px 0;">
                        <h3 style="margin-bottom: 20px;">Hva√∞ √æ√∫ munt l√¶ra:</h3>
                        <ul style="list-style: none; text-align: left; display: inline-block; font-size: 16px; line-height: 2;">
                            <li>‚úì Hvernig √° a√∞ finna sta√∞setningu √≠ IH01</li>
                            <li>‚úì Hvernig √° a√∞ velja r√©tta sta√∞setningu √≠ tr√©</li>
                            <li>‚úì Hvernig √° a√∞ stofna n√Ωja tilkynningu</li>
                            <li>‚úì Hvernig √° a√∞ vista tilkynningu √≠ kerfinu</li>
                        </ul>
                    </div>

                    <div class="sap-info-box">
                        <strong>T√≠mi:</strong> Um 5 m√≠n√∫tur<br>
                        <strong>Kunn√°tta:</strong> Grunn√æekking √° SAP
                    </div>
                </div>

                <!-- Step 1: Open IH01 -->
                <div class="sap-step-container" id="step1">
                    <div class="sap-step-info">
                        <h2>Skref 1: Opna IH01 gluggann</h2>
                        <p>Byrjum √° a√∞ opna IH01 gluggann til a√∞ sko√∞a functional location structure.</p>
                    </div>

                    <div class="sap-window">
                        <div class="sap-startmenu">
                            <span class="sap-startmenu-item">üìÑ</span>
                            <span class="sap-startmenu-item">Menu</span>
                            <span class="sap-startmenu-item">Edit</span>
                            <span class="sap-startmenu-item">Favorites</span>
                            <span class="sap-startmenu-item">Extras</span>
                            <span class="sap-startmenu-item">System</span>
                            <span class="sap-startmenu-item">Help</span>
                        </div>

                        <!-- Top toolbar with green check, dropdown and icons -->
                        <div class="sap-top-toolbar">
                            <div class="sap-top-left">
                                <button class="sap-icon1-btn" title="Check">‚úÖ</button>
                                <div class="sap-command-area">
                                    <div class="command-instruction">
                                        <input type="text" class="sap-command-field" id="commandField" placeholder="Command field">
                                    </div>
                                </div>
                                <button class="sap-icon1-btn" title="Back">‚¨Ö</button>
                                <button class="sap-icon1-btn" title="Save">üíæ</button>
                                <button class="sap-icon1-btn" title="Print">üñ®Ô∏è</button>
                                <button class="sap-icon1-btn" title="Left arrow">‚¨ÖÔ∏è</button>
                                <button class="sap-icon1-btn" title="Up arrow">‚¨ÜÔ∏è</button>
                                <button class="sap-icon1-btn" title="Right arrow">‚û°Ô∏è</button>
                                <button class="sap-icon1-btn" title="First page">üìÑ</button>
                                <button class="sap-icon1-btn" title="Previous page">üìÑ</button>
                                <button class="sap-icon1-btn" title="Next page">üìÑ</button>
                                <button class="sap-icon1-btn" title="last page">üìÑ</button>
                                <button class="sap-icon1-btn" title="Session">üìÑ</button>
                                <button class="sap-icon1-btn" title="Help">‚ùì</button>
                                <button class="sap-icon1-btn" title="Info">üíª</button>
                            </div>
                        </div>

                        <div class="sap-titlebar">
                            <span> SAP Easy Access</span>
                        </div>

                        <!-- SAP Easy Access Section -->
                        <div class="sap-easy-access-section">
                            <!-- Small icon toolbar -->
                            <div class="sap-small-toolbar">
                                <button class="sap-icon1-btn" title="Create">üìÅ</button>
                                <button class="sap-icon1-btn" title="Change">üìù</button>
                                <button class="sap-icon1-btn" title="Star">‚≠ê</button>
                                <button class="sap-icon1-btn" title="Star">‚≠ê</button>
                                <button class="sap-icon1-btn" title="Arrow">‚úèÔ∏è</button>
                                <button class="sap-icon1-btn" title="Up">üî∫</button>
                                <button class="sap-icon1-btn" title="Down">üîª</button>
                            </div>

                            <!-- Favorites Tree -->
                            <div class="sap-favorites-tree">
                                <div class="favorites-header">
                                    <span class="tree-expand" onclick="toggleFavoritesNode(this)">‚ñº</span>
                                    <span class="tree-icon">üìÅ</span>
                                    <span class="tree-text">Favorites</span>
                                </div>

                                <div class="favorites-content">
                                    <div class="favorites-item">
                                        <span class="tree-indent"></span>
                                        <span class="tree-icon">‚≠ê</span>
                                        <span class="tree-text">ME5A - Purchase Requisitions: List Display</span>
                                    </div>
                                    <div class="favorites-item">
                                        <span class="tree-indent"></span>
                                        <span class="tree-expand" onclick="toggleFavoritesNode(this)">‚ñ∂</span>
                                        <span class="tree-icon">üìÅ</span>
                                        <span class="tree-text">Brgjar</span>
                                    </div>
                                    <div class="favorites-item">
                                        <span class="tree-indent"></span>
                                        <span class="tree-expand" onclick="toggleFavoritesNode(this)">‚ñ∂</span>
                                        <span class="tree-icon">üìÅ</span>
                                        <span class="tree-text">Endur√æj√∂ntun</span>
                                    </div>
                                    <div class="favorites-item">
                                        <span class="tree-indent"></span>
                                        <span class="tree-expand" onclick="toggleFavoritesNode(this)">‚ñ∂</span>
                                        <span class="tree-icon">üìÅ</span>
                                        <span class="tree-text">Cockpit</span>
                                    </div>
                                    <div class="favorites-item">
                                        <span class="tree-indent"></span>
                                        <span class="tree-expand" onclick="toggleFavoritesNode(this)">‚ñ∂</span>
                                        <span class="tree-icon">üìÅ</span>
                                        <span class="tree-text">Lagerstj√≥rn</span>
                                    </div>
                                    <div class="favorites-item">
                                        <span class="tree-indent"></span>
                                        <span class="tree-expand" onclick="toggleFavoritesNode(this)">‚ñ∂</span>
                                        <span class="tree-icon">üìÅ</span>
                                        <span class="tree-text">Samningar</span>
                                    </div>
                                    <div class="favorites-item">
                                        <span class="tree-indent"></span>
                                        <span class="tree-expand" onclick="toggleFavoritesNode(this)">‚ñ∂</span>
                                        <span class="tree-icon">üìÅ</span>
                                        <span class="tree-text">Innkaupantanir</span>
                                    </div>
                                    <div class="favorites-item">
                                        <span class="tree-indent"></span>
                                        <span class="tree-expand" onclick="toggleFavoritesNode(this)">‚ñ∂</span>
                                        <span class="tree-icon">üìÅ</span>
                                        <span class="tree-text">Eftirfylgni</span>
                                    </div>

                                    <!-- Click marker -->
                                    <div class="click-indicator-commandfield-box" style="position: absolute; top: 240px; left: 615px; color: #d946ef; font-size: 20px;"></div>

                                </div>
                            </div>
                        </div>

                        <!-- Command Input Area -->
                    </div>
                        <div class="sap-info-box">
                            Skrifa√∞u <strong>IH01</strong> √≠ command field og √Ωttu √° enter.
                            <br>
                            <br>
                            <strong>√Åbending:</strong> Ef √æ√∫ ert √æegar √≠ √∂√∞rum glugga, sl√°√∞u inn <strong>/nIH01</strong> til a√∞ fara beint √≠ IH01.
                        </div>
                        <button class="sap-nav-button" onclick="checkCommand()" style="margin-top: 20px;">Athuga skipun</button>
                    </div>

                <!-- Step 2: Enter Material Number -->
                <div class="sap-step-container" id="step2">
                    <div class="sap-step-info">
                        <h2>Skref 2: Sl√° inn verksmi√∞jun√∫mer</h2>
                        <p>N√∫ √æurfum vi√∞ a√∞ sl√° inn functional location n√∫meri√∞ til a√∞ finna r√©tta sta√∞setningu.</p>
                    </div>

                    <div class="sap-window">
                        <div class="sap-startmenu">
                            <span class="sap-startmenu-item">üìÑ</span>
                            <span class="sap-startmenu-item">program</span>
                            <span class="sap-startmenu-item">Edit</span>
                            <span class="sap-startmenu-item">Goto</span>
                            <span class="sap-startmenu-item">System</span>
                            <span class="sap-startmenu-item">Help</span>
                        </div>

                        <div class="sap-top-toolbar">
                            <div class="sap-top-left">
                                <button class="sap-icon1-btn" title="Check">‚úÖ</button>
                                <div class="sap-command-area">
                                    <div class="command-instruction">
                                        <input type="text" class="sap-command-field" id="commandField2" placeholder="Command field">
                                    </div>
                                </div>
                                <button class="sap-icon1-btn" title="Back">‚¨Ö</button>
                                <button class="sap-icon1-btn" title="Save">üíæ</button>
                                <button class="sap-icon1-btn" title="Print">üñ®Ô∏è</button>
                                <button class="sap-icon1-btn" title="Left arrow">‚¨ÖÔ∏è</button>
                                <button class="sap-icon1-btn" title="Up arrow">‚¨ÜÔ∏è</button>
                                <button class="sap-icon1-btn" title="Right arrow">‚û°Ô∏è</button>
                                <button class="sap-icon1-btn" title="First page">üìÑ</button>
                                <button class="sap-icon1-btn" title="Previous page">üìÑ</button>
                                <button class="sap-icon1-btn" title="Next page">üìÑ</button>
                                <button class="sap-icon1-btn" title="last page">üìÑ</button>
                                <button class="sap-icon1-btn" title="Session">üìÑ</button>
                                <button class="sap-icon1-btn" title="Help">‚ùì</button>
                                <button class="sap-icon1-btn" title="Info">üíª</button>
                            </div>
                        </div>

                        <div class="sap-titlebar">
                            <span style="font-style: italic;">Functional Location Structure: Selection</span>
                        </div>

                        <div class="sap-subtitlebar">
                            <button class="sap-subtitlebar-icon-btn" title="Check">üïí</button>
                            <button class="sap-subtitlebar-icon-btn" title="Check">‚úÖ</button>
                            <button class="sap-subtitlebar-icon-btn" title="Information">‚ÑπÔ∏è</button>
                        </div>


                        <div class="sap-content">
                            <div class="sap-field-group">
                                <label class="sap-field-label">Functional Location</label>
                                <input type="text" class="sap-input" id="LocationInput" value="">
                                <span style="font-size: 12px; color: #666; margin-left: 10px;">‚Üê Sl√°i√∞ inn 2900-0060-0010-0020</span>
                            </div>
                            <div class="sap-field-group">
                                <label class="sap-field-label">Valid From</label>
                                <input type="text" class="sap-input-small" value="27.05.2025" readonly style="background: #f0f0f0;">
                            </div>
                            <div style="margin-top: 20px;">
                                <button class="sap-button" onclick="showMaterialList()">
                                    <span>‚ñ∂</span> Execute
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="sap-info-box">
                        <strong>Athugi√∞:</strong> Functional Location n√∫meri√∞ √æarf a√∞ vera n√°kv√¶mlega r√©tt slegi√∞ inn.
                    </div>
                </div>

                <!-- Step 3: Navigate Tree Structure -->
                <div class="sap-step-container" id="step3">
                    <div class="sap-step-info">
                        <h2>Skref 3: Finna lagerinn √≠ tr√©</h2>
                        <p>N√∫ √æurfum vi√∞ a√∞ finna og velja BIRG√êAGEYMSLA (LAGER) √≠ Functional Location tr√©inu.</p>
                    </div>

                    <div class="sap-window">
                        <div class="sap-startmenu">
                            <span class="sap-startmenu-item">üìÑ</span>
                            <span class="sap-startmenu-item">List</span>
                            <span class="sap-startmenu-item">Edit</span>
                            <span class="sap-startmenu-item">Goto</span>
                            <span class="sap-startmenu-item">Extras</span>
                            <span class="sap-startmenu-item">Environment</span>
                            <span class="sap-startmenu-item">Settings</span>
                            <span class="sap-startmenu-item">System</span>
                            <span class="sap-startmenu-item">Help</span>
                        </div>

                        <div class="sap-top-toolbar">
                            <div class="sap-top-left">
                                <button class="sap-icon1-btn" title="Check">‚úÖ</button>
                                <div class="sap-command-area">
                                    <div class="command-instruction">
                                        <input type="text" class="sap-command-field" id="commandField1" placeholder="Command field">
                                    </div>
                                </div>
                                <button class="sap-icon1-btn" title="Back">‚¨Ö</button>
                                <button class="sap-icon1-btn" title="Save">üíæ</button>
                                <button class="sap-icon1-btn" title="Print">üñ®Ô∏è</button>
                                <button class="sap-icon1-btn" title="Left arrow">‚¨ÖÔ∏è</button>
                                <button class="sap-icon1-btn" title="Up arrow">‚¨ÜÔ∏è</button>
                                <button class="sap-icon1-btn" title="Right arrow">‚û°Ô∏è</button>
                                <button class="sap-icon1-btn" title="First page">üìÑ</button>
                                <button class="sap-icon1-btn" title="Previous page">üìÑ</button>
                                <button class="sap-icon1-btn" title="Next page">üìÑ</button>
                                <button class="sap-icon1-btn" title="last page">üìÑ</button>
                                <button class="sap-icon1-btn" title="Session">üìÑ</button>
                                <button class="sap-icon1-btn" title="Help">‚ùì</button>
                                <button class="sap-icon1-btn" title="Info">üíª</button>
                            </div>
                        </div>

                        <div class="sap-titlebar">
                            <span style="font-style: italic;">Functional Location Structure: Structure List</span>
                        </div>

                        <div class="sap-tree">
                            <div class="sap-tree-header">
                                <div class="tree-col-1">
                                    <span class="sap-tree-header-item">Functional Location</span>
                                </div>
                                <div class="tree-col-2">
                                    <span class="sap-tree-header-item">FuncLocDesc</span>
                                </div>
                                <div class="tree-col-3">
                                    <span class="sap-tree-header-item">Valid From</span>
                                </div>
                            </div>

                            <div id="treeContainer">
                                <div class="tree-row" data-level="0">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñº</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900</span>
                                        </div>
                                        <div class="tree-col-2">Isal plant</div>
                                        <div class="tree-col-3">27.05.2025</div>
                                    </div>
                                </div>

                                <!-- Warehouse first sub-items start -->
                                <div class="tree-row" data-level="1" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900-0010</span>
                                        </div>
                                        <div class="tree-col-2">Skautvinnsla (Skautsk√°li og Skautsmi√∞ja)</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="1" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900-0020</span>
                                        </div>
                                        <div class="tree-col-2">Rafgreining</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="1" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900-0030</span>
                                        </div>
                                        <div class="tree-col-2">Flutningur √° flj√≥tandi √°li og raflausn</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="1" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900-0040</span>
                                        </div>
                                        <div class="tree-col-2">Steypusk√°li</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="1" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900-0050</span>
                                        </div>
                                        <div class="tree-col-2">S√∫r√°ls- og √°lfl√∫or√≠√∞flutningskerfi</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row clickable-warehouse" data-level="1" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand clickable-warehouse" onclick="toggleNode(this); selectWarehouse(this); ">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text" id="OnnurferliTEXT">2900-0060</span>
                                            <div class="click-indicator2" style="left: 21px; top: 0px;"></div>
                                        </div>
                                        <div class="tree-col-2">√ñnnur ferli</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <!-- Warehouse first sub-items depth 2 first -->
                                <div class="tree-row warehouse-child clickable-warehouse" data-level="2" style="display: none;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand clickable-warehouse" onclick="toggleNode(this); selectWarehouse(this); ">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text" id="Byggingar1ID">2900-0060-0010</span>
                                        </div>
                                        <div class="tree-col-2" id="Byggingar1Text">
                                            <span class="birgda-clickable" onclick="selectBirgdageymsla(event)">Byggingar fyrir √∂nnur ferli</span>
                                        </div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <!-- Warehouse first sub-items depth 3 first -->
                                <div class="tree-row warehouse-child " data-level="3" style="display: none;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900-0060-0010-0010</span>
                                        </div>
                                        <div class="tree-col-2">Byggingar fyrir skrifstofur og m√∂tuneyti></div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row warehouse-child clickable-warehouse" data-level="3" style="display: none;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand clickable-warehouse" onclick="toggleNode(this); selectWarehouse(this); ">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text" id="Byggingar2ID">2900-0060-0010-0020</span>
                                        </div>
                                        <div class="tree-col-2" id="Byggingar2Text">
                                            <span class="birgda-clickable" onclick="selectBirgdageymsla(event)">Byggingar fyrir hj√°lparkerfi</span>
                                        </div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                 <!-- Warehouse first sub-items depth 4 first -->
                                    <div class="tree-row" data-level="4" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900US10</span>
                                        </div>
                                        <div class="tree-col-2">Sl√∂kkvili√∞sh√∫s</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="4" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900US15</span>
                                        </div>
                                        <div class="tree-col-2">GATEHOUSE</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row clickable-warehouse" data-level="4" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand clickable-warehouse" onclick="toggleNode(this); selectWarehouse(this); ">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text" id="warehouseText">2900US21</span>
                                            <div class="click-indicator2" style="left: 21px; top: 0px;"></div>
                                        </div>
                                        <div class="tree-col-2">WAREHOUSE</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <!-- Warehouse first sub-items depth 5 -->
                                <div class="tree-row warehouse-child" data-level="5" style="display: none;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand">‚ñ†</span>
                                            <span class="tree-icon">üìÑ</span>
                                            <span class="tree-text" id="birgdageymslaText">60761393</span>
                                        </div>
                                        <div class="tree-col-2" id="birgdageymslaDesc">
                                            <span class="birgda-clickable" onclick="selectBirgdageymsla(event)">BIRG√êAGEYMSLA (LAGER)</span>
                                        </div>
                                        <div class="tree-col-7">1,000</div>
                                    </div>
                                </div>
                                 <!-- Warehouse sub-items depth 5 completed -->


                                <!-- Warehouse first sub-items depth 4 rest -->
                                <div class="tree-row" data-level="4" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900US22</span>
                                        </div>
                                        <div class="tree-col-2">RAW MATERIAL STOREROOM 1</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="4" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900US23</span>
                                        </div>
                                        <div class="tree-col-2">RAW MATERIAL STOREROOM 2</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>
                                <!-- Warehouse sub-items depth 4 completed -->

                                <!-- Warehouse first sub-items depth 3 rest -->
                                <div class="tree-row" data-level="3" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900US15</span>
                                        </div>
                                        <div class="tree-col-2">GATEHOUSE</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row clickable-warehouse" data-level="3" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand clickable-warehouse" onclick="toggleNode(this); selectWarehouse(this); ">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900US21</span>
                                            <div class="click-indicator2" style="left: 21px; top: 0px;"></div>
                                        </div>
                                        <div class="tree-col-2">WAREHOUSE</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="3" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900US22</span>
                                        </div>
                                        <div class="tree-col-2">RAW MATERIAL STOREROOM 1</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="3" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900US23</span>
                                        </div>
                                        <div class="tree-col-2">RAW MATERIAL STOREROOM 2</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>
                                 <!-- Warehouse sub-items depth 3 completed -->



                                <!-- Warehouse first sub-items depth 2 -->
                                <div class="tree-row warehouse-child" data-level="2" style="display: none;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand clickable-warehouse">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900-0060-0020</span>
                                        </div>
                                        <div class="tree-col-2">Fart√¶ki fyrir √∂nnur ferli</div>
                                        </div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row warehouse-child" data-level="2" style="display: none;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text" >2900CY</span>
                                        </div>
                                        <div class="tree-col-2">COMMUNICATIONS SYSTEM</div>
                                        </div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row warehouse-child" data-level="2" style="display: none;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900-0060-0050</span>
                                        </div>
                                        <div class="tree-col-2" id="BunadurTEXT">
                                            <span class="birgda-clickable">B√∫na√∞ur fyrir √∂nnur ferli</span>
                                        </div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>
                                <!-- Warehouse sub-items depth 2 completed -->


                                <!-- Warehouse first sub-items depth 1 rest -->
                                <div class="tree-row" data-level="1" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900-0070</span>
                                        </div>
                                        <div class="tree-col-2">Raforkuveita</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="1" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900-0080</span>
                                        </div>
                                        <div class="tree-col-2">Veitur</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="1" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900-0085</span>
                                        </div>
                                        <div class="tree-col-2">Vi√∞haldssvi√∞</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="1" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900-0090</span>
                                        </div>
                                        <div class="tree-col-2">Kersmi√∞ja</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="1" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900-0100</span>
                                        </div>
                                        <div class="tree-col-2">Stj√≥rn- og t√∂lvukerfi</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="1" style="display: block;">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand" onclick="toggleNode(this)">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900-0110</span>
                                        </div>
                                        <div class="tree-col-2">Ba√∞efnisvinnsla</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>
                                <!-- Warehouse sub-items depth 1 completed -->
                            </div>
                        </div>
                    </div>

                    <div class="sap-info-box">
                        <strong>Lei√∞beiningar:</strong><br>
                        1. F√¶r√∞u m√∫sina yfir <strong>"Fara til"</strong> √≠ valmyndinni<br>
                        2. F√¶r√∞u m√∫sina yfir <strong>"Stofna tilkynningu"</strong> til a√∞ sj√° undirm√∂ppuna<br>
                        3. Smelltu √° <strong>"Almennt"</strong> til a√∞ b√∫a til almenna tilkynningu
                    </div>
                </div>
                <!-- Step 4: Create Notification -->
                <div class="sap-step-container" id="step4">
                    <div class="sap-step-info">
                        <h2>Skref 4: Opna stofna tilkynningu glugga</h2>
                        <p>Fr√°b√¶rt! √û√∫ hefur vali√∞ BIRG√êAGEYMSLA (LAGER). N√∫ f√∂rum vi√∞ √≠ valmyndina til a√∞ stofna tilkynningu.</p>
                    </div>

                    <div class="sap-window">
                        <div class="sap-titlebar">
                            <span style="font-style: italic;">Functional Location Structure: Structure List</span>
                        </div>

                        <div class="sap-menu" style="position: relative;">
                            <span class="sap-menu-item highlighted" id="faraMenuHighlight4" onmouseover="showFaraDropdown()" onmouseout="hideFaraDropdown()">Fara til</span>
                            <div class="sap-dropdown-menu" id="faraDropdown" onmouseover="keepFaraDropdown()" onmouseout="hideFaraDropdown()">
                                <div class="sap-dropdown-item sap-submenu" onmouseover="showStofnaSubmenu()" onmouseout="hideStofnaSubmenu()">
                                    Stofna tilkynningu
                                    <div class="sap-submenu-content" id="stofnaSubmenu" onmouseover="keepStofnaSubmenu()" onmouseout="hideStofnaSubmenu()">
                                        <div class="sap-dropdown-item" onclick="selectAlmennt()">Almennt</div>
                                        <div class="sap-dropdown-item">S√©rstakt</div>
                                    </div>
                                </div>
                                <div class="sap-dropdown-item">Sko√∞a tilkynningar</div>
                                <div class="sap-dropdown-item">Breyta sta√∞setningu</div>
                            </div>
                            <span class="sap-menu-item">Vi√∞b√¶tur</span>
                            <span class="sap-menu-item">Umhverfi</span>
                            <span class="sap-menu-item">Stillingar</span>
                            <span class="sap-menu-item">System</span>
                        </div>

                        <div class="sap-tree">
                            <div class="sap-tree-header">
                                <div class="tree-col-1">
                                    <span class="sap-tree-header-item">Functional Location</span>
                                </div>
                                <div class="tree-col-2">
                                    <span class="sap-tree-header-item">FuncLocDesc</span>
                                </div>
                                <div class="tree-col-3">
                                    <span class="sap-tree-header-item">Valid From</span>
                                </div>
                            </div>

                            <div id="frozenTreeContainer">
                                <div class="tree-row" data-level="0">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-expand">‚ñº</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900-0060-0010-0020</span>
                                        </div>
                                        <div class="tree-col-2">Byggingar fyrir hj√°lparkerfi</div>
                                        <div class="tree-col-3">27.05.2025</div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="1">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900US10</span>
                                        </div>
                                        <div class="tree-col-2">FIRE STATION BUILDING</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="1">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900US15</span>
                                        </div>
                                        <div class="tree-col-2">GATEHOUSE</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="1">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand">‚ñº</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900US21</span>
                                        </div>
                                        <div class="tree-col-2">WAREHOUSE</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <!-- Selected BIRG√êAGEYMSLA - highlighted in yellow -->
                                <div class="tree-row selected" data-level="2">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand">‚ñ†</span>
                                            <span class="tree-icon">üìÑ</span>
                                            <span class="tree-text">60761393</span>
                                        </div>
                                        <div class="tree-col-2">BIRG√êAGEYMSLA (LAGER)</div>
                                        <div class="tree-col-3">1,000</div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="1">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900US22</span>
                                        </div>
                                        <div class="tree-col-2">RAW MATERIAL STOREROOM 1</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>

                                <div class="tree-row" data-level="1">
                                    <div class="tree-columns">
                                        <div class="tree-col-1">
                                            <span class="tree-indent"></span>
                                            <span class="tree-expand">‚ñ∂</span>
                                            <span class="tree-icon">üìÅ</span>
                                            <span class="tree-text">2900US23</span>
                                        </div>
                                        <div class="tree-col-2">RAW MATERIAL STOREROOM 2</div>
                                        <div class="tree-col-3"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="sap-info-box">
                        <strong>Lei√∞beiningar:</strong><br>
                        1. F√¶r√∞u m√∫sina yfir <strong>"Fara til"</strong> √≠ valmyndinni<br>
                        2. F√¶r√∞u m√∫sina yfir <strong>"Stofna tilkynningu"</strong> til a√∞ sj√° undirm√∂ppuna<br>
                        3. Smelltu √° <strong>"Almennt"</strong> til a√∞ b√∫a til almenna tilkynningu
                    </div>
                </div>

                <!-- Step 5: Open Object Information -->
                <div class="sap-step-container" id="step5">
                    <div class="sap-step-info">
                        <h2>Skref 5: Opna Object information glugga</h2>
                        <p>N√∫ √æurfum vi√∞ a√∞ opna Object information til a√∞ b√¶ta vi√∞ uppl√Ωsingum.</p>
                    </div>

                    <div class="sap-window">
                        <div class="sap-titlebar">
                            <span>Functional Location Structure: Structure List</span>
                        </div>
                        <div class="sap-menu">
                            <span class="sap-menu-item highlighted" id="faraMenuHighlight5">Fara til</span>
                            <span class="sap-menu-item">Vi√∞b√¶tur</span>
                            <span class="sap-menu-item">Umhverfi</span>
                            <span class="sap-menu-item">Stillingar</span>
                            <span class="sap-menu-item">System</span>
                        </div>
                    </div>
                </div>

                <!-- Step 6: Write Description and Save -->
                <div class="sap-step-container" id="step6">
                    <div class="sap-step-info">
                        <h2>Skref 6: Skrifa l√Ωsingu og vista</h2>
                        <p>A√∞ lokum skrifum vi√∞ l√Ωsingu √° tilkynninguna og vistum hana √≠ kerfinu.</p>
                    </div>
                </div>

                <div class="sap-nav-buttons">
                    <button class="sap-nav-button" onclick="previousStep()" id="prevBtn">‚Üê Fyrra skref</button>
                    <button class="sap-nav-button" onclick="nextStep()" id="nextBtn">N√¶sta skref ‚Üí</button>
                </div>
            </div>

    <script>
        let currentStep = 2;
        const totalSteps = 7;
        let warehouseClicked = false;
        let birgdageymslaClicked = false;

        function updateProgress() {
            for (let i = 0; i < totalSteps; i++) {
                const progStep = document.getElementById('prog' + i);
                if (i < currentStep) {
                    progStep.classList.add('completed');
                    progStep.classList.remove('active');
                    if (i > 0) progStep.textContent = '‚úì';
                } else if (i === currentStep) {
                    progStep.classList.add('active');
                    progStep.classList.remove('completed');
                } else {
                    progStep.classList.remove('active', 'completed');
                }
            }
        }

        function showStep(step) {
            document.querySelectorAll('.sap-step-container').forEach(container => {
                container.classList.remove('active');
            });

            document.getElementById('step' + step).classList.add('active');

            // Update navigation
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            prevBtn.style.display = step === 0 ? 'none' : 'block';

            if (step === totalSteps - 1) {
                nextBtn.textContent = 'Byrja aftur';
                nextBtn.onclick = () => {
                    currentStep = 0;
                    warehouseClicked = false;
                    birgdageymslaClicked = false;
                    showStep(0);
                };
            } else {
                nextBtn.textContent = 'N√¶sta skref ‚Üí';
                nextBtn.onclick = nextStep;
            }

            // Reset step 3 state when navigating away (but not when going to step 4)
            if (step !== 3 && step !== 4) {
                warehouseClicked = false;
                birgdageymslaClicked = false;
                const warehouseChildren = document.querySelectorAll('.warehouse-child');
                warehouseChildren.forEach(child => child.style.display = 'none');

                // Reset highlights
                const rows = document.querySelectorAll('.tree-row');
                rows.forEach(row => row.classList.remove('selected'));

                // Reset expand icon
                const warehouseRow = document.querySelector('.clickable-warehouse');
                if (warehouseRow) {
                    const expandIcon = warehouseRow.querySelector('.tree-expand');
                    if (expandIcon) expandIcon.textContent = '‚ñ∂';
                }

                // Reset clickable span
                const clickableSpan = document.querySelector('.birgda-clickable');
                if (clickableSpan) {
                    clickableSpan.style.pointerEvents = 'auto';
                    clickableSpan.style.backgroundColor = 'transparent';
                }

                // Remove any indicators
                const indicators = document.querySelectorAll('.click-indicator-box');
                indicators.forEach(indicator => indicator.remove());
            }

            updateProgress();
        }

        function nextStep() {
            if (currentStep < totalSteps - 1) {
                currentStep++;
                showStep(currentStep);
                window.scrollTo(0, 0);
            }
        }

        function previousStep() {
            if (currentStep > 0) {
                currentStep--;
                showStep(currentStep);
                window.scrollTo(0, 0);
            }
        }

        // Interactive functions for Step 1
        function checkCommand() {
            const input = document.getElementById('commandField');
            if (input.value.toUpperCase() === 'IH01' || input.value === '/nIH01') {
                input.classList.add('highlight-field');
                setTimeout(() => {
                    alert('R√©tt! IH01 glugginn opnast.');
                    nextStep();
                }, 500);
            } else {
                alert('Sl√°√∞u inn IH01 e√∞a /nIH01 √≠ skipanasv√¶√∞i√∞.');
                input.focus();
            }
        }

        // Interactive functions for Step 2
        function showMaterialList() {
            const locationInput = document.getElementById('LocationInput');
            if (locationInput.value === '2900-0060-0010-0020') {
                locationInput.classList.add('highlight-field');
                setTimeout(() => {
                    alert('R√©tt! Functional Location Structure opnast.');
                    nextStep();
                }, 500);
            } else {
                alert('Sl√°√∞u inn 2900-0060-0010-0020 √≠ Functional Location reitinn');
                locationInput.focus();
            }
        }

        // Interactive functions for Step 3
        function toggleNode(element, event) {
            if (event) {
                event.stopPropagation()
            }

            const row = element.closest('.tree-row');
            const isWarehouse = row.classList.contains('clickable-warehouse');

            if (isWarehouse) {
                const children = document.querySelectorAll('.warehouse-child');
                const isExpanded = element.textContent === '‚ñº';

                if (isExpanded) {
                    element.textContent = '‚ñ∂';
                    children.forEach(child => child.style.display = 'none');
                } else {
                    element.textContent = '‚ñº';
                    children.forEach(child => child.style.display = 'block');
                }
            }
        }

        function selectWarehouse(element) {
            if (!warehouseClicked) {
                warehouseClicked = true;

                // Expand the warehouse node
                const expandIcon = element.querySelector('.tree-expand');
                expandIcon.textContent = '‚ñº';

                // Show children
                const children = document.querySelectorAll('.warehouse-child');
                children.forEach(child => child.style.display = 'block');

                // Add visual indicator to BIRG√êAGEYMSLA text
                const birgRow = document.querySelector('.warehouse-child');
                if (!birgRow.querySelector('.click-indicator-box')) {
                    const newIndicator = document.createElement('div');
                    newIndicator.className = 'click-indicator-box';
                    newIndicator.style.left = '370px';
                    newIndicator.style.top = '-5px';
                    birgRow.querySelector('.tree-col-2').appendChild(newIndicator);
                }
            }
        }

        function selectBirgdageymsla(event) {
            if (event) {
                event.stopPropagation();
            }

            if (warehouseClicked && !birgdageymslaClicked) {
                birgdageymslaClicked = true;

                const birgRow = document.querySelector('.warehouse-child');
                birgRow.classList.add('selected');

                // Remove click indicator
                const indicator = birgRow.querySelector('.click-indicator-box');
                if (indicator) indicator.remove();

                // Remove hover effect
                const clickableSpan = birgRow.querySelector('.birgda-clickable');
                if (clickableSpan) {
                    clickableSpan.style.pointerEvents = 'none';
                    clickableSpan.style.backgroundColor = 'transparent';
                }

                setTimeout(() => {
                    alert('R√©tt, N√∫ hefur √æ√∫ vali√∞ BIRG√êAGEYMSLA (LAGER). N√∫ h√∂ldum vi√∞ √°fram a√∞ stofna tilkynningu √≠ sama glugga.');
                    nextStep();
                }, 300);
            } else if (!warehouseClicked) {
                alert('√û√∫ √æarft fyrst a√∞ smella √° WAREHOUSE (2900US21) til a√∞ opna undirm√∂ppuna.');
            }
        }

        // Add Enter key listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Step 1 - Command field Enter key
            const commandField = document.getElementById('commandField');
            if (commandField) {
                commandField.addEventListener('keypress', function(event) {
                    if (event.key === 'Enter') {
                        event.preventDefault();
                        checkCommand();
                    }
                });
            }

            // Step 2 - Location input Enter key
            const locationInput = document.getElementById('LocationInput');
            if (locationInput) {
                locationInput.addEventListener('keypress', function(event) {
                    if (event.key === 'Enter') {
                        event.preventDefault();
                        showMaterialList();
                    }
                });
            }
        });

        // Interactive functions for Step 4 - Dropdown menus
        let faraDropdownTimeout;
        let stofnaSubmenuTimeout;

        function showFaraDropdown() {
            clearTimeout(faraDropdownTimeout);
            const dropdown = document.getElementById('faraDropdown');
            if (dropdown) {
                dropdown.classList.add('show');
            }
        }

        function hideFaraDropdown() {
            faraDropdownTimeout = setTimeout(() => {
                const dropdown = document.getElementById('faraDropdown');
                if (dropdown) {
                    dropdown.classList.remove('show');
                }
                hideStofnaSubmenu();
            }, 200);
        }

        function keepFaraDropdown() {
            clearTimeout(faraDropdownTimeout);
        }

        function showStofnaSubmenu() {
            clearTimeout(stofnaSubmenuTimeout);
            const submenu = document.getElementById('stofnaSubmenu');
            if (submenu) {
                submenu.style.display = 'block';
            }
        }

        function hideStofnaSubmenu() {
            stofnaSubmenuTimeout = setTimeout(() => {
                const submenu = document.getElementById('stofnaSubmenu');
                if (submenu) {
                    submenu.style.display = 'none';
                }
            }, 200);
        }

        function keepStofnaSubmenu() {
            clearTimeout(stofnaSubmenuTimeout);
        }

        function selectAlmennt() {
            alert('√û√∫ valdir "Almennt" - Create PM Notification glugginn opnast.');
            nextStep();
        }

        // Initialize
        showStep(0);
    </script>
</body>
</html>